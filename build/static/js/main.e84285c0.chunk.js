(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/editIcon.7adc7d91.svg"},31:function(e,t,a){e.exports=a.p+"static/media/removeIcon.eea42727.svg"},35:function(e,t,a){e.exports=a(56)},40:function(e,t,a){},48:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),i=a(16),o=(a(40),a(7)),s=a(2),u=a(9),d=a(10),p=a(12),m=a(11),E=a(18),h=a.n(E),b=a(23),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"VALIDATE_EMAIL",payload:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"VALIDATE_PASS",payload:e}},f=function(e){return{type:"RECEIVE_COINS",payload:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"SAVE_EXPENSES",payload:{expenses:e}}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var t=Object(b.a)(h.a.mark((function t(a){var n,r,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_COINS"}),t.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,l={id:e[0],value:e[1],description:e[5],currency:e[2],method:e[3],tag:e[4],exchangeRates:r},t.abrupt("return",(a(f(r)),0!==e.length?a(O(l)):null));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=(a(48),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isDisabled,a=e.dispatch;return r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Trybe"),r.a.createElement("form",{className:"formLogin"},r.a.createElement("input",{type:"email","data-testid":"email-input",id:"email-input",placeholder:"Digite seu e-mail",onKeyUp:function(e){var t=e.target.value;t.includes("@")&&t.includes(".com")?(a(v(!0)),a({type:"EMAIL_INPUT",payload:t})):a(v())},required:!0}),r.a.createElement("input",{type:"password","data-testid":"password-input",placeholder:"Digite sua senha",onKeyUp:function(e){return e.target.value.length>=5?a(y(!0)):a(y())},required:!0}),r.a.createElement(i.b,{to:"/carteira"},r.a.createElement("button",{type:"submit",className:t?"buttonDisabled":"buttonEnabled",disabled:t},"Entrar")))))}}]),a}(r.a.Component)),x=Object(o.b)((function(e){return{isDisabled:e.user.isDisabled}}))(g),C=(a(52),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses.reduce((function(e,t){return e+t.value*t.exchangeRates[t.currency].ask}),0);return r.a.createElement("header",null,r.a.createElement("h1",null,"Trybe"),r.a.createElement("div",{className:"user-info"},r.a.createElement("p",{"data-testid":"email-field"},"E-mail:"," ",t),r.a.createElement("span",{"data-testid":"total-field"},"Despesa total: R$"," ",a.toFixed(2)),r.a.createElement("span",{"data-testid":"header-currency-field"}," BRL")))}}]),a}(r.a.Component)),S=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(C),I=a(20),k=a(3),D=a(14),V=(a(53),{value:0,currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""}),A=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleClick=e.handleClick.bind(Object(D.a)(e)),e.saveValueOnState=e.saveValueOnState.bind(Object(D.a)(e)),e.state={expensesObject:V},e}return Object(d.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,a=t.expenses,n=t.dispatch,r=this.state.expensesObject,l=[a.length,r.value,r.currency,r.method,r.tag,r.description];n(j(l)),this.setState({expensesObject:V})}},{key:"saveValueOnState",value:function(e){e.preventDefault();var t=e.target,a=t.value;this.setState((function(e){return{expensesObject:Object(k.a)(Object(k.a)({},e.expensesObject),{},Object(I.a)({},t.name,a))}}))}},{key:"render",value:function(){var e=this.props.coins,t=this.state.expensesObject,a=t.value,n=t.currency,l=t.method,c=t.tag,i=t.description;return r.a.createElement("main",null,r.a.createElement("form",{className:"create"},r.a.createElement("label",{htmlFor:"valueInput"},"Valor",r.a.createElement("input",{type:"number",name:"value",id:"valueInput","data-testid":"value-input",onChange:this.saveValueOnState,value:a})),r.a.createElement("label",{htmlFor:"decriptionInput"},"Descri\xe7\xe3o",r.a.createElement("input",{type:"text",id:"descriptionInput",name:"description","data-testid":"description-input",onChange:this.saveValueOnState,value:i})),r.a.createElement("label",{htmlFor:"coinSelect"},"Moeda",r.a.createElement("select",{id:"coinSelect",name:"currency","data-testid":"currency-input",onChange:this.saveValueOnState,value:n},void 0!==e?Object.keys(e).filter((function(e){return"USDT"!==e})).map((function(e,t){return r.a.createElement("option",{value:e,key:t,"data-testid":e},e)})):r.a.createElement("option",{value:""},"Aguarde"))),r.a.createElement("label",{htmlFor:"paymentMethod"},"M\xe9todo de pagamento",r.a.createElement("select",{id:"paymentMethod",name:"method","data-testid":"method-input",onChange:this.saveValueOnState,value:l},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tagCategory"},"Tag",r.a.createElement("select",{id:"tagCategory",name:"tag","data-testid":"tag-input",onChange:this.saveValueOnState,value:c},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("button",{type:"submit",onClick:this.handleClick},"Adicionar despesa")))}}]),a}(r.a.Component),N=Object(o.b)((function(e){return{coins:e.wallet.coins,expenses:e.wallet.expenses}}))(A),w=(a(54),a(30)),T=a.n(w),L=a(31),R=a.n(L),M=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleClick=e.handleClick.bind(Object(D.a)(e)),e}return Object(d.a)(a,[{key:"createCoinsNames",value:function(){return{USD:"D\xf3lar Comercial",CAD:"D\xf3lar Canadense",GBP:"Libra Esterlina",ARS:"Peso Argentino",BTC:"Bitcoin",LTC:"Litecoin",EUR:"Euro",JPY:"Iene Japon\xeas",CHF:"Franco Su\xed\xe7o",AUD:"D\xf3lar Australiano",CNY:"Yuan Chin\xeas",ILS:"Novo Shekel Israelense",ETH:"Ethereum",XRP:"Ripple"}}},{key:"handleClick",value:function(e,t,a){var n=e.target;(0,this.props.dispatch)({type:"DELETE_EXPENSE",payload:{expenseValue:t,expenseId:a}}),n.parentElement.parentElement.innerHTML=""}},{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,0!==t.length?t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{id:"description"},t.description),r.a.createElement("td",{id:"tag"},t.tag),r.a.createElement("td",{id:"method"},t.method),r.a.createElement("td",{id:"value"},Number(t.value).toFixed(2)),r.a.createElement("td",{id:"currency"},e.createCoinsNames()[t.currency]),r.a.createElement("td",{id:"cambio"},Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",{id:"convertedValue"},(Number(t.value)*t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button","data-testid":"edit-btn",className:"edit"},r.a.createElement("img",{src:T.a,alt:"Icon Edit"})),r.a.createElement("button",{type:"button","data-testid":"delete-btn",onClick:function(a){return e.handleClick(a,(Number(t.value)*t.exchangeRates[t.currency].ask).toFixed(2),t.id)},className:"remove"},r.a.createElement("img",{src:R.a,alt:"Remove Icon"}))))})):t))}}]),a}(r.a.Component),_=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))(M),F=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(j())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(N,null),r.a.createElement(_,null))}}]),a}(r.a.Component),P=Object(o.b)()(F);a(55);var U=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:x}),r.a.createElement(s.a,{path:"/carteira",component:P}))},B=a(13),X=a(32),J=a(33),z={email:"",emailIsValid:!1,passIsValid:!1,isDisabled:!0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL_INPUT":return Object(k.a)(Object(k.a)({},e),{},{email:t.payload});case"VALIDATE_EMAIL":return Object(k.a)(Object(k.a)({},e),{},{emailIsValid:t.payload,isDisabled:!e.emailIsValid||!e.passIsValid});case"VALIDATE_PASS":return Object(k.a)(Object(k.a)({},e),{},{passIsValid:t.payload,isDisabled:!e.emailIsValid||!e.passIsValid});default:return e}},W=a(34),Y={currencies:[],expenses:[],coins:{}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_COINS":return Object(k.a)(Object(k.a)({},e),{},{coins:t.payload});case"SAVE_EXPENSES":return Object(k.a)(Object(k.a)({},e),{},{expenses:[].concat(Object(W.a)(e.expenses),[t.payload.expenses])});case"DELETE_EXPENSE":return Object(k.a)(Object(k.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.payload.expenseId}))});default:return e}},K=Object(B.combineReducers)({user:H,wallet:q}),$=Object(B.createStore)(K,Object(X.composeWithDevTools)(Object(B.applyMiddleware)(J.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:$},r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.e84285c0.chunk.js.map